阶段,任务编号,任务名称,交付物,人力天
一、环境准备,1.1,安装 Docker + Docker Compose,环境就绪,0.25
一、环境准备,1.2,编写 docker-compose.yml（MySQL/Redis/ES/RabbitMQ）,配置文件,0.5
一、环境准备,1.3,导入 mall.sql 数据库,数据库就绪,0.25
一、环境准备,1.4,配置 mall-admin 应用,后台可运行,0.25
一、环境准备,1.5,配置 mall-portal 应用,前台 API 可运行,0.25
一、环境准备,1.6,配置 mall-search 应用,搜索可运行,0.25
一、环境准备,1.7,验证原版功能正常,测试报告,0.25
二、后端改造-用户认证,2A.1,创建 ums_casino_member_mapping 表,SQL 脚本,0.25
二、后端改造-用户认证,2A.2,创建 CasinoApiClient 接口类,Java 接口,0.25
二、后端改造-用户认证,2A.3,实现 CasinoApiClient（Mock 版本）,实现类,0.5
二、后端改造-用户认证,2A.4,创建 CasinoAuthService,认证服务,0.5
二、后端改造-用户认证,2A.5,改造 UmsMemberService 登录逻辑,改造代码,0.5
二、后端改造-用户认证,2A.6,改造 JWT Token 生成（加入娱乐城信息）,改造代码,0.25
二、后端改造-用户认证,2A.7,移除原有注册接口,清理代码,0.25
二、后端改造-用户认证,2A.8,单元测试,测试代码,0.5
二、后端改造-点数模块,2B.1,创建 oms_points_transaction 表,SQL 脚本,0.25
二、后端改造-点数模块,2B.2,CasinoApiClient 新增点数接口,接口扩展,0.25
二、后端改造-点数模块,2B.3,创建 PointsService（查询/扣除/退还）,服务类,0.5
二、后端改造-点数模块,2B.4,创建 PointsTransactionMapper,DAO 层,0.25
二、后端改造-点数模块,2B.5,改造 OmsOrderService 下单逻辑,改造代码,0.25
二、后端改造-点数模块,2B.6,改造 OmsOrderService 取消订单逻辑,改造代码,0.25
二、后端改造-点数模块,2B.7,单元测试,测试代码,0.25
二、后端改造-虚拟商品,2C.1,创建 oms_virtual_delivery 表,SQL 脚本,0.25
二、后端改造-虚拟商品,2C.2,pms_product 新增虚拟商品类型字段,SQL 脚本,0.25
二、后端改造-虚拟商品,2C.3,CasinoApiClient 新增彩金发放接口,接口扩展,0.25
二、后端改造-虚拟商品,2C.4,创建 VirtualDeliveryService,服务类,0.5
二、后端改造-虚拟商品,2C.5,改造订单完成逻辑（自动发放）,改造代码,0.25
二、后端改造-虚拟商品,2C.6,发放失败重试机制,定时任务,0.25
二、后端改造-虚拟商品,2C.7,单元测试,测试代码,0.25
二、后端改造-多租户,2D.1,创建 sys_mall_config 表,SQL 脚本,0.25
二、后端改造-多租户,2D.2,创建 MallConfigService,服务类,0.25
二、后端改造-多租户,2D.3,创建配置缓存机制,Redis 缓存,0.25
二、后端改造-多租户,2D.4,支持环境变量覆盖,配置逻辑,0.25
二、后端改造-清理,2E.1,移除支付宝配置,清理代码,0.25
二、后端改造-清理,2E.2,移除微信支付配置,清理代码,0.25
二、后端改造-测试,2F.1,认证流程集成测试,测试报告,0.5
二、后端改造-测试,2F.2,下单流程集成测试,测试报告,0.5
二、后端改造-测试,2F.3,虚拟商品发放测试,测试报告,0.5
三、前台改造-首页,3A.1,首页布局重构（参考 lhshop）,页面代码,0.5
三、前台改造-首页,3A.2,轮播图组件,组件代码,0.25
三、前台改造-首页,3A.3,爆款推荐区块,组件代码,0.5
三、前台改造-首页,3A.4,分类展示区块,组件代码,0.5
三、前台改造-首页,3A.5,底部导航栏,组件代码,0.25
三、前台改造-商品,3B.1,商品卡片组件,组件代码,0.5
三、前台改造-商品,3B.2,商品列表页,页面代码,0.5
三、前台改造-商品,3B.3,商品详情页,页面代码,0.75
三、前台改造-商品,3B.4,商品搜索页,页面代码,0.25
三、前台改造-购物车订单,3C.1,购物车页面,页面代码,0.5
三、前台改造-购物车订单,3C.2,购物车操作（增删改）,功能代码,0.5
三、前台改造-购物车订单,3C.3,确认订单页,页面代码,0.5
三、前台改造-购物车订单,3C.4,收货地址管理,页面 + 功能,0.5
三、前台改造-购物车订单,3C.5,下单流程（点数扣除）,功能代码,0.5
三、前台改造-购物车订单,3C.6,订单列表页,页面代码,0.25
三、前台改造-购物车订单,3C.7,订单详情页,页面代码,0.25
三、前台改造-会员中心,3D.1,会员中心首页,页面代码,0.5
三、前台改造-会员中心,3D.2,点数显示组件,组件代码,0.25
三、前台改造-会员中心,3D.3,个人资料页,页面代码,0.25
三、前台改造-会员中心,3D.4,收货地址管理页,页面代码,0.25
三、前台改造-会员中心,3D.5,点数记录页,页面代码,0.25
三、前台改造-其他,3E.1,公告列表页,页面代码,0.25
三、前台改造-其他,3E.2,公告详情页,页面代码,0.25
三、前台改造-登录,3F.1,登录页面改造,页面代码,0.25
三、前台改造-登录,3F.2,娱乐城跳转登录逻辑,功能代码,0.5
三、前台改造-登录,3F.3,Token 存储 + 自动登录,功能代码,0.25
三、前台改造-UI优化,3G.1,整体配色调整,样式代码,0.5
三、前台改造-UI优化,3G.2,响应式适配,样式代码,0.5
三、前台改造-UI优化,3G.3,Loading + 空状态,组件代码,0.25
三、前台改造-UI优化,3G.4,错误提示优化,组件代码,0.25
三、前台改造-UI优化,3G.5,动画效果,样式代码,0.25
三、前台改造-UI优化,3G.6,最终测试修复,修复代码,0.25
四、后台调整,4.1,商城配置管理页面,页面代码,0.5
四、后台调整,4.2,配置项 CRUD API,API 代码,0.25
四、后台调整,4.3,点数交易记录列表,页面代码,0.5
四、后台调整,4.4,虚拟商品发放记录列表,页面代码,0.5
四、后台调整,4.5,商品编辑（虚拟商品类型）,改造代码,0.25
五、部署,5.1,mall-admin Dockerfile,文件,0.25
五、部署,5.2,mall-portal Dockerfile,文件,0.25
五、部署,5.3,mall-search Dockerfile,文件,0.25
五、部署,5.4,前台 Dockerfile,文件,0.25
五、部署,5.5,docker-compose.yml（完整版）,文件,0.5
五、部署,5.6,环境变量模板 (.env.example),文件,0.25
五、部署,5.7,测试环境部署脚本,脚本,0.25
五、部署,5.8,正式环境部署脚本,脚本,0.25
五、部署,5.9,正式环境更新授权检查,脚本,0.25
五、部署,5.10,测试环境部署验证,验证报告,0.25
五、部署,5.11,正式环境部署验证,验证报告,0.25
六、文档,6.1,快速部署指南,文档,0.25
六、文档,6.2,配置项说明,文档,0.25
六、文档,6.3,多套部署指南,文档,0.25
六、文档,6.4,娱乐城 API 对接说明,文档,0.25
六、文档,6.5,后台使用说明,文档,0.25
六、文档,6.6,常见问题 FAQ,文档,0.25
