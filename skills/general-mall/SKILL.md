---
name: general-mall
description: é€šç”¨å•†åŸç³»çµ±é–‹ç™¼æŒ‡å—ã€‚åŸºæ–¼ macrozheng/mall æ¡†æ¶ï¼Œä¿ç•™å®Œæ•´åŠŸèƒ½ï¼Œæ”¯æ´å¤šå¥—ç¨ç«‹éƒ¨ç½²ã€‚ç”¨æ–¼ï¼š(1) å•†åŸç³»çµ±éƒ¨ç½²èˆ‡ç¶­è­· (2) å¤šç§Ÿæˆ¶é…ç½® (3) AWS ç’°å¢ƒéƒ¨ç½²
---

# å•†åŸç³»çµ± (General Mall)

## å°ˆæ¡ˆæ¦‚è¿°

ä¸€èˆ¬é›»å•†å¹³å°ï¼ŒåŸºæ–¼ mall å®Œæ•´åŠŸèƒ½ï¼Œæ”¯æ´å¤šå¥—ç¨ç«‹éƒ¨ç½²ã€‚

## ğŸ”¤ èªè¨€è¦ç¯„

**æœ¬å°ˆæ¡ˆä½¿ç”¨ç¹é«”ä¸­æ–‡**

- ç¨‹å¼ç¢¼è¨»è§£ã€è¨Šæ¯ã€UI æ–‡å­—ä¸€å¾‹ä½¿ç”¨ç¹é«”ä¸­æ–‡
- è‹¥é˜¿æ°è¼¸å…¥ç°¡é«”ä¸­æ–‡ï¼ŒåŸ·è¡Œæ™‚è‡ªå‹•è½‰æ›ç‚ºç¹é«”
- è³‡æ–™åº«åˆå§‹è³‡æ–™å·²è½‰æ›ç‚ºç¹é«” (`/home/ubuntu/general-mall/document/sql/mall.sql`)

## âš ï¸ é–‹ç™¼æµç¨‹

**æ–°å¢éœ€æ±‚æ™‚ï¼Œå¿…é ˆå…ˆç¢ºèªå†é–‹ç™¼ï¼š**

1. **è¨˜éŒ„éœ€æ±‚** â†’ å¯«å…¥ `references/requirements.md`
2. **ç¢ºèªéœ€æ±‚** â†’ èˆ‡é˜¿æ°ç¢ºèªç†è§£æ˜¯å¦æ­£ç¢º
3. **é–‹ç™¼å¯¦ä½œ** â†’ ç¢ºèªå¾Œæ‰é–‹å§‹å¯«ç¨‹å¼
4. **æ¸¬è©¦é©—è­‰** â†’ å®Œæˆå¾Œå›å ±çµæœ

âŒ ç¦æ­¢ï¼šæ”¶åˆ°éœ€æ±‚ç›´æ¥é–‹ç™¼
âœ… æ­£ç¢ºï¼šå…ˆç¢ºèªã€å†é–‹ç™¼

## ğŸ“‹ æ–°å¢é é¢æª¢æŸ¥æ¸…å–®

æ–°å¢å¾Œå°é é¢æ™‚ï¼Œå¿…é ˆå®Œæˆä»¥ä¸‹æ­¥é©Ÿï¼š

1. **å¾Œç«¯**
   - [ ] Controller + Service + Mapper
   - [ ] è³‡æ–™åº«è¡¨ï¼ˆå¦‚éœ€è¦ï¼‰

2. **å‰ç«¯**
   - [ ] API æª”æ¡ˆ (`src/api/xxx.js`)
   - [ ] é é¢å…ƒä»¶ (`src/views/xxx/index.vue`)
   - [ ] è·¯ç”±é…ç½® (`src/router/index.js`)
   - [ ] é‡æ–°æ§‹å»º (`npm run build`)

3. **æ¬Šé™è¨­å®š**ï¼ˆâš ï¸ å¿…é ˆï¼‰
   - [ ] `ums_menu` - æ–°å¢èœå–®
   - [ ] `ums_role_menu_relation` - çµ¦è¶…ç´šç®¡ç†å“¡(id=5)æ·»åŠ èœå–®æ¬Šé™
   - [ ] `ums_resource` - æ–°å¢ API è³‡æº
   - [ ] `ums_role_resource_relation` - çµ¦è¶…ç´šç®¡ç†å“¡æ·»åŠ è³‡æºæ¬Šé™
   - [ ] æ¸…é™¤ Redis ç·©å­˜ (`docker exec mall-redis redis-cli FLUSHALL`)
   - [ ] é‡å•Ÿ mall-admin

## æŠ€è¡“æ¶æ§‹

### å¾Œç«¯
- **æ¡†æ¶**: Spring Boot + MyBatis
- **è³‡æ–™åº«**: MySQL (AWS RDS)
- **å¿«å–**: Redis
- **æœå°‹**: Elasticsearch
- **è¨Šæ¯ä½‡åˆ—**: RabbitMQ
- **éƒ¨ç½²**: Docker + AWS

### å‰ç«¯
- **å¾Œå°ç®¡ç†**: Vue + Element UI
- **å‰å°å•†åŸ**: uni-appï¼ˆåŸç‰ˆï¼‰

## åŠŸèƒ½ç¯„åœ

### ä¿ç•™ mall å®Œæ•´åŠŸèƒ½
- å•†å“ç®¡ç†
- è¨‚å–®ç®¡ç†
- æœƒå“¡ç®¡ç†
- ä¿ƒéŠ·ç®¡ç†
- å…§å®¹ç®¡ç†
- æ¬Šé™ç®¡ç†
- Elasticsearch æœå°‹

### æ–°å¢åŠŸèƒ½ï¼šè‡ªå‹•ç”¢ç”Ÿè¨‚å–® API âœ…

æä¾› API è®“ä¸‹æ¸¸ç³»çµ±å‚³å…¥é‡‘é¡ï¼Œè‡ªå‹•çµ„åˆå•†å“ç”¢ç”Ÿè¨‚å–®ã€‚

**API ç«¯é»ï¼š**
- ä»£æ”¶: `POST /portal/order/auto-generate/collect`
- ä»£ä»˜: `POST /portal/order/auto-generate/pay`

**åŠŸèƒ½ç‰¹é»ï¼š**
- ä»£æ”¶ï¼ˆcollectï¼‰ï¼šç”¢ç”Ÿè³¼è²·è¨‚å–®ï¼ˆå·²æ”¯ä»˜ç‹€æ…‹ï¼‰
- ä»£ä»˜ï¼ˆpayï¼‰ï¼šç”¢ç”Ÿé€€è²¨è¨‚å–®
- **è¨‚å–®é‡‘é¡ = å‚³å…¥é‡‘é¡**ï¼ˆå›ºå®šï¼‰
- IP ç™½åå–®é©—è­‰

**è¨‚å–®è¦å‰‡ï¼š** ï¼ˆé€šç”¨ï¼Œé©ç”¨æ‰€æœ‰å•†åŸï¼‰
- âœ… å•†å“å¤šæ¨£æ€§ï¼ˆè‡³å°‘ 3 ç¨®ä»¥ä¸Šï¼‰
- âœ… æ¯å•†å“æ¯è¼ª 7~12 ä»¶é™åˆ¶
- âœ… æŠ˜æ‰£ â‰¤ æœ€ä½åƒ¹å•†å“
- âœ… Redis ç·©å­˜ï¼ˆTTL 10 åˆ†é˜ï¼‰

è©³è¦‹ï¼š
- [è‡ªå‹•ç”¢ç”Ÿè¨‚å–® API](references/auto-order-api.md)
- [ğŸ“‹ è¨‚å–®å‰µå»ºè¦å‰‡ï¼ˆé€šç”¨ï¼‰](references/order-rules.md)

### å¾…é–‹ç™¼åŠŸèƒ½ï¼šä»£ä»˜è¨‚å–® â†’ é€€æ¬¾ç”³è«‹

**ç‹€æ…‹**: ğŸŸ¡ å¾…ç¢ºèªéœ€æ±‚

ä»£ä»˜è¨‚å–®å»ºç«‹å¾Œï¼Œè‡ªå‹•ç”¢ç”Ÿ `oms_order_return_apply` è¨˜éŒ„ï¼Œä¾›å¾Œå°å¯©æ ¸å‡ºæ¬¾ã€‚

**å¾…ç¢ºèªé …ç›®**ï¼š
1. Return Apply è¨˜éŒ„å…§å®¹ï¼ˆç¸½é‡‘é¡ or æ‹†åˆ†å•†å“ï¼‰
2. å•†å“åˆ†é…é‚è¼¯ï¼ˆè²ªå©ªæ³•ï¼Ÿï¼‰
3. ç‹€æ…‹æµç¨‹ï¼ˆ0=å¾…å¯©æ ¸ â†’ ?ï¼‰
4. èˆ‡ä»£æ”¶è¨‚å–®çš„é—œè¯æ–¹å¼

è©³è¦‹ï¼š[å¾…é–‹ç™¼åŠŸèƒ½](references/pending-features.md)

## å¤šç§Ÿæˆ¶é…ç½®

æ¯å¥—å•†åŸå¯ç¨ç«‹é…ç½®ï¼š
- å•†åŸåç¨±
- å•†åŸ Logo
- è³‡æ–™åº«é€£æ¥
- å…¶ä»–å“ç‰Œè¨­å®š

## éƒ¨ç½²æ¶æ§‹

- **æ¸¬è©¦æ©Ÿ**: å–®æ©Ÿ Docker å…¨åŒ…
- **æ­£å¼æ©Ÿ**: EC2 + RDS (Multi-AZ) + ALB

## åƒè€ƒæ–‡ä»¶

- [éœ€æ±‚é‚Šç•Œ](references/requirements.md)
- [ç’°å¢ƒè¦æ ¼](references/environment.md)
- [è‡ªå‹•ç”¢ç”Ÿè¨‚å–® API](references/auto-order-api.md)
- [å¾…é–‹ç™¼åŠŸèƒ½](references/pending-features.md)
- [éƒ¨ç½²æŒ‡å—](references/deployment.md) â­ æ–°å¢

## æºç¢¼å€‰åº«

| å€‰åº« | èªªæ˜ | GitHub |
|------|------|--------|
| mall-backend | å¾Œç«¯ Java | https://github.com/ArJay951/mall-backend |
| mall-admin-web | å¾Œå°å‰ç«¯ | https://github.com/ArJay951/mall-admin-web |
| mall-app-web | å‰å° H5 | https://github.com/ArJay951/mall-app-web |
| mall-deploy | éƒ¨ç½²é…ç½® | https://github.com/ArJay951/mall-deploy |

### æœ¬æ©Ÿè·¯å¾‘
- å°ˆæ¡ˆç›®éŒ„: `/home/ubuntu/general-mall/`
- å¾Œç«¯æºç¢¼: `/home/ubuntu/general-mall/mall/`
- å¾Œå°å‰ç«¯: `/home/ubuntu/mall-admin-web/`
- å‰å°å‰ç«¯: `/home/ubuntu/mall-app-build/`

## æ¸¬è©¦ç’°å¢ƒ

| é …ç›® | å€¼ |
|------|-----|
| ä¼ºæœå™¨ IP | 52.76.231.27 |
| ç¶²åŸŸ | dev.homely-go.com |
| å¾Œå° | https://dev.homely-go.com/admin/ |
| å‰å° | https://dev.homely-go.com/web/ |
| ç™»å…¥å¸³è™Ÿ | admin / macro123 |
| SSL | CDN ä»£ç†æ¨¡å¼ |

### æœå‹™ç«¯å£
| æœå‹™ | ç«¯å£ |
|------|------|
| MySQL | 3306 |
| Redis | 6379 |
| RabbitMQ | 5672/15672 |
| Elasticsearch | 9200 |
| mall-admin | 8080 |
| mall-portal | 8085 |
| Nginx | 80 |

### å¿«é€ŸæŒ‡ä»¤
```bash
# éƒ¨ç½²è…³æœ¬
bash /home/ubuntu/general-mall/deploy.sh [backend|admin|web|all|db|env]

# å¥åº·æª¢æŸ¥
bash /home/ubuntu/general-mall/health_check.sh

# æœå‹™ç®¡ç†
cd /home/ubuntu/general-mall && docker compose ps
```
